# Sprint: Crypto Analysis Enablement 001

范围
- 策略路径下三个子项目：`策略/panda_factor-main`、`策略/panda_quantflow-main`、`策略/qlib-main`
- 目标：补齐“加密货币分析/回测”的最小生产能力（数据→因子→回测→可视化），并沉淀快速上手文档。

里程碑
- M1 数据与 API 加固（本次冲刺主线）
- M2 因子最小集合（可选部分进入下个冲刺）
- M3 回测引擎增强（组合、多参数、基础风控）
- M4 工作流节点扩展（UI 参数、输出增强）
- M5 文档与示例

任务清单（WBS）
1) 数据与 API（panda_factor-main）
   - [x] T1.1 CCXT 导入脚本（日/分钟入 Mongo）
   - [x] T1.2 修复日线读取器 symbols 过滤与 Crypto 查询隔离
   - [x] T1.3 新增 `get_crypto_instruments()`：列出已入库符号
   - [x] T1.4 分钟级重采样工具（5m/15m/1h/1d，UTC 对齐）

2) 因子（panda_factor-main）
   - [x] T2.1 基础因子：收益、波动、动量（RSI/MACD）、量价指标（最小实现）
   - [x] T2.2 `get_factor(..., type='crypto')` 打通（通过日线即时计算）

3) 回测引擎（panda_quantflow-main）
   - [x] T3.1 组合回测：多标的权重/信号，等权或信号赋权
   - [x] T3.2 交易成本：滑点（bps）、Maker/Taker 费率（基础近似）
   - [x] T3.3 指标输出：收益、波动、回撤、夏普

4) 工作流节点（panda_quantflow-main）
   - [x] T4.1 Node 输入扩展：多标的、费率/滑点参数、频率选择
   - [x] T4.2 输出扩展：曲线预览与指标结构化输出

5) 文档（跨项目）
   - [x] T5.1 Notebook：Crypto_Quickstart（导入→查询→绘图）
   - [x] T5.2 README 补充：数据结构、字段、UTC 说明、常见问题、因子与成本参数

优先级与节奏
- P0：T1.3、T1.4、T3.1、T4.1（完成即可端到端跑组合回测）
- P1：T3.2、T3.3、T4.2（质量与体验）
- P2：T2.*、T5.2（增强与文档）

验收标准
- 数据：按 symbol+时间范围的日/分钟查询正确、延时可接受；重采样正确（检查 OHLCV 聚合）。
- 回测：支持多标的、信号等权/全仓，手续费/滑点生效；产生权益曲线与关键指标。
- UI：节点支持多标的与参数，产出可视化所需序列。
- 文档：含快速上手与常见问题。

当前进度（滚动更新）
- 已完成：T1.1、T1.2、T1.3、T1.4、T2.1、T2.2、T3.1、T3.2、T3.3、T4.1、T4.2、T5.1、T5.2。
- 进行中：无（本次冲刺目标已达成，后续可扩展更丰富因子与交易细节）。
